---
title: "QBS103_Submission 1"
author: "Angelique Cortez"
date: "2024-07-29"
output: pdf_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}
set.seed(1001001)
```

```{r}
library(ggplot2)
library(dplyr)
```
```{r}
#read the downloaded csvs for the gene expression and metadata
gene_expression <- read.csv("~/Dropbox (Dartmouth College)/Dartmouth Classes/Summer2024/Intro to data analysis/data/QBS103_GSE157103_genes.csv")
metadata <- read.csv("~/Dropbox (Dartmouth College)/Dartmouth Classes/Summer2024/Intro to data analysis/data/QBS103_GSE157103_series_matrix.csv", header = T)
```

```{r}
#view the data
head(gene_expression)
```
```{r}
#view data 
head(metadata)
```

```{r}
#determine if file is a dataframe
class(gene_expression)
class(metadata)
```

#Identify one gene, one continuous covariate, and two categorical covariates in the provided dataset. Note: Gene expression data and metadata are in two separate files and will need to be linked.
```{r}
#need to set the gene name from X column
gene_expression <- gene_expression %>%
  rename(gene = X)
```

```{r}
#library(tidyr)
#library(tibble)
# Change the gene expression data to long format to combine later
gene_expression_long <- gene_expression %>%
  pivot_longer(cols = -gene, names_to = "participant_id", values_to = "expression")

```

```{r}
# Merge the datasets
combined_data <- merge(gene_expression_long, metadata, by.x = "participant_id", by.y = "participant_id")
```

```{r}
# Choose gene of interest
gene_of_interest <- combined_data %>%
  filter(gene == "ABI1") %>% # can change gene name here
  select(expression,age, sex, mechanical_ventilation)# choose covariates
```


#Generate the following three plots using ggplot2 for your covariates of choice:
o	Histogram for gene expression (5 pts)   
```{r}

```

o	Scatterplot for gene expression and continuous covariate (5 pts)
```{r}

```

o	Boxplot of gene expression separated by both categorical covariates (5 pts)



